{% extends 'main/base.html' %} {% block content %} {% load static %} {% load crispy_forms_tags %}

<div class="page-wrapper">
  <div class="border-wrapper">
    <div class="wrapper">
      <div class="input-box">
        <div class="tweet-area">
          <form id="create-post-form" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group" id="div_id_content">
              {{ form.content }}
            </div>
            <div class="" id="">
              {{ form.image }}
              <button class="post-create-btn-active post-create-btn-inactive">Post</button>
            </div>
              <div class="image-preview-wrapper">
                <a id='remove-attachment-btn'>x</a>
                <img id="img-preview" src="#" alt=''/> 
              </div>
            </form>
        </div>
        <div class="input-card-footer">
          <span class="counter">100</span>
        </div>
      </div>
      <div class="infinite-container">
        {% for post in posts %}
        <div class="post-wrapper infinite-item" id="post-{{post.id}}">
          {% include 'main/components/post-display-list.html' %}
        </div>
        {% endfor %}
      </div>

      {% if is_paginated %} {% if page_obj.has_next %}
      <div class="row">
        <a
          class="infinite-more-link"
          href="?page={{ page_obj.next_page_number }}"
        ></a>
      </div>
      {% endif %} {% endif %}
    </div>
  </div>
  <div class="overlay invisible" onclick="closeModal()"></div>


  <script src="{% static '/main/js/jquery-2.2.4.min.js' %}"></script>
  <script src="{% static '/main/js/jquery.waypoints.min.js' %}"></script>
  <script src="{% static '/main/js/infinite.min.js' %}"></script>
  <script src="{% static '/main/js/infiniteScroll.js' %}"></script>
  <script src="{% static '/main/js/previewFormImage.js' %}"></script>
  <script src="{% static '/main/js/post.js' %}"></script>

</div>
{% endblock content %}